<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Atividade 8</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"></script>
    <script src="https://rawgit.com/andreasplesch/aframe-faceset-component/master/dist/aframe-faceset-component.min.js"></script>
</head>
<body>
<script>
    AFRAME.registerComponent('example', {
      schema: {
        vertices: {
          default: ['0 10 0', '-10 10 0', '10 10 0'],
        }
      },

      init: function (data) {
        var data = this.data;
        var el = this.el;

        var geometry = new THREE.Geometry();
        geometry.vertices = data.vertices.map(function (vertex) {
            var points = vertex.split(' ').map(function(x){return parseInt(x);});
            return new THREE.Vector3(points[0], points[1], points[2]);
        });
        geometry.computeBoundingBox();
        geometry.faces.push(new THREE.Face3(0, 1, 2));
        geometry.mergeVertices();
        geometry.computeFaceNormals();
        geometry.computeVertexNormals();
        this.geometry = geometry;

        this.material = new THREE.MeshStandardMaterial({color: data.color});
        this.mesh = new THREE.Mesh(this.geometry, this.material);

        el.setObject3D('mesh', this.mesh);
        console.log('FUPT')
      }
    });
</script>
<a-scene>
    <a-sky color="#99ccff"></a-sky>
    <a-assets>
        <a-mixin id="aramado" material="color: black; wireframe: true; wireframe-linewidth:1;"></a-mixin>
        <a-mixin id="cor1" material="color: #d8ef09"></a-mixin>
        <a-mixin id="padrao" material="opacity: 0.5; side: double; metalness:0.3; roughness:0.9;"></a-mixin>
        <a-mixin id="texto" text="width: 4; side:double; color: black" rotation="-25 0 0"></a-mixin>
    </a-assets>
    <a-light type="directional" intensity=".75" position="0 20 0" light="castShadow:true" target="#directionaltarget">
        <a-entity id="directionaltarget" position="0 -1 0"></a-entity>
    </a-light>
    <!--    <a-light type="point" intensity=".9" distance="150" decay="1.3" position="0 100 0" light="castShadow: true"></a-light>-->
    <a-octahedron position="0 5 0" radius="2" color="black" wireframe="true" shadow="cast: true"></a-octahedron>
    <a-entity environment="preset: forest; dressingAmount: 500" shadow="receive: true, cast: true"></a-entity>
    <a-entity line="start: 0.5 2 0.7; end: 0.5 0 0.7; color: white"
              line__2="start: 0.5 0 0.7; end: 0.5 0 1.5; color: white"
              shadow="cast: true"></a-entity>

    <a-entity example="vertices: 1 1 -3, 3 1 -3, 2 2 -3"></a-entity>


</a-scene>
</body>
</html>
